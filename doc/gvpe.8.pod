=head1 NAME

C<gvpe> - GNU Virtual Private Ethernet Daemon

=head1 SYNOPSIS

C<gvpe> [B<-cDlL>] [B<--config=>I<DIR>] [B<--no-detach>] [B<-l=>I<LEVEL]>]
[B<--kill>[B<=>I<SIGNAL>]] [B<--mlock>] [B<--help>] [B<--version>]
I<NODENAME> [I<option...>]

=head1 DESCRIPTION

See the gvpe(5) man page for an introduction to the gvpe suite.

This is the manual page for gvpe, the virtual private ethernet daemon.
When started, C<gvpe> will read it's configuration file to determine the
network topology, and other configuration information, assuming the role
of node I<NODENAME>

It will then create/connect to the tun/tap device and set up a socket for
incoming connections. Then a C<if-up> script will be executed to further
configure the virtual network device. If that succeeds, it will detach
from the controlling terminal and continue in the background, accepting
and setting up connections to other gvpe daemons that are part of the
same virtual private ethernet.

The optional arguments after the node name have to be of the form:

   [I<nodename>.]var=value

If the argument has a prefix of C<nodename.>
(i.e. C<laptop.enable-dns=yes>) then it will be parsed after all the
config directives for that node, if not, it is parsed before the first
node directive in the config file, and can be used to set global options
or default variables.

For example, to start C<gvpe> in the foreground, with log-level C<info> on
the node C<laptop>, with TCP enabled and HTTP-Proxy host and Port set, use
this:

  gvpe -D -l info laptop \
       http-proxy-host=10.0.0.18 http-proxy-port=3128 \
       laptop.enable-tcp=yes

=head1 OPTIONS

=over 4

=item B<-c>, B<--config=>I<DIR>

Read configuration options from I<DIR>

=item B<-d>, B<--l=>I<LEVEL>

Set logging level to I<LEVEL> (one of: noise, trace, debug, info, notice,
warn, error, critical).

=item B<--help>

Display short list of options.

=item B<-D>, B<--no-detach>

Don't fork and detach but stay in foreground and log messages to stderr in
addition to syslog.

=item B<-L>, B<--mlock>

Lock C<gvpe> into main memory. This will prevent sensitive data like
shared private keys to be written to the system swap files/partitions.

=item B<--version>

Output version information and exit.

=back

=head1 SIGNALS

=over 4

=item HUP

Closes/resets all connections, resets the retry time and will start connecting
again (it will NOT re-read the config file). This is useful e.g. in a
C</etc/ppp/if-up> script.

=item TERM

Closes/resets all connections and exits.

=item USR1

Dump current network status into the syslog (at loglevel C<notice>, so make
sure your loglevel allows this).

=back

=head1 FILES

=over 4

=item C</etc/gvpe/gvpe.conf>

The configuration file for C<gvpe>.

=item C</etc/gvpe/if-up>

Script which is executed as soon as the virtual network device has been
allocated.  Purpose is to further configure that device.

=item C</etc/gvpe/node-up>

Script which is executed whenever a node connects to this node. This can
be used for example to run nsupdate.

=item C</etc/gvpe/node-down>

Script which is executed whenever a connection to another node is lost.
for example to run nsupdate.

=item C</etc/gvpe/pubkey/*>

The directory containing the public keys for every node, usually
autogenerated by executing C<gvpectrl --generate-keys>.

=item C</var/run/gvpe.pid>

The PID of the currently running C<gvpe> is stored in this file.

=back

=head1 BUGS

The cryptography in gvpe has not been thoroughly checked by many people
yet. Use it at your own risk!

If you find any bugs, report them to C<gvpe@schmorp.de>.

=head1 SEE ALSO

gvpe(5) for an introduction, gvpe.conf(5), gvpectrl(8).

The GVPE mailing list, at L<http://lists.schmorp.de/> or
C<gvpe@lists.schmorp.de>.

GVPE comes with ABSOLUTELY NO WARRANTY.  This is free software, and you are
welcome to redistribute it under certain conditions; see the file COPYING
for details.

=head1 AUTHOR

Marc Lehmann C<< <gvpe@schmorp.de> >>.

And thanks to many others for their contributions to gvpe, especially the
tincd authors, who inspired me to write this program (after scavenging
their source code ;).

